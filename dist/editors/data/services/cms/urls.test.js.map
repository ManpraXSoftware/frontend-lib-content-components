{"version":3,"file":"urls.test.js","names":["_urls","require","describe","studioEndpointUrl","blockId","learningContextId","courseId","libraryV1Id","language","handout","videoId","parameters","unitUrl","data","ancestors","id","it","expect","returnUrl","toEqual","concat","libraryV1","unit","block","blockAncestor","blockStudioView","courseAssets","thumbnailUpload","videoTranscripts","downloadVideoTranscriptURL","downloadVideoHandoutUrl","courseDetailsUrl","checkTranscriptsForImport","replaceTranscript","videoFeatures"],"sources":["../../../../../src/editors/data/services/cms/urls.test.js"],"sourcesContent":["import {\n  returnUrl,\n  unit,\n  libraryV1,\n  block,\n  blockAncestor,\n  blockStudioView,\n  courseAssets,\n  thumbnailUpload,\n  downloadVideoTranscriptURL,\n  videoTranscripts,\n  downloadVideoHandoutUrl,\n  courseDetailsUrl,\n  checkTranscriptsForImport,\n  replaceTranscript,\n  videoFeatures,\n} from './urls';\n\ndescribe('cms url methods', () => {\n  const studioEndpointUrl = 'urLgoeStOstudiO';\n  const blockId = 'blOckIDTeST123';\n  const learningContextId = 'lEarnIngCOntextId123';\n  const courseId = 'course-v1:courseId123';\n  const libraryV1Id = 'library-v1:libaryId123';\n  const language = 'la';\n  const handout = '/aSSet@hANdoUt';\n  const videoId = '123-SOmeVidEOid-213';\n  const parameters = 'SomEParAMEterS';\n\n  describe('return to learning context urls', () => {\n    const unitUrl = {\n      data: {\n        ancestors: [\n          {\n            id: 'unItUrlTEST',\n          },\n        ],\n      },\n    };\n    it('returns the library page when given the library', () => {\n      expect(returnUrl({ studioEndpointUrl, unitUrl, learningContextId: libraryV1Id }))\n        .toEqual(`${studioEndpointUrl}/library/${libraryV1Id}`);\n    });\n    it('returns url with studioEndpointUrl and unitUrl', () => {\n      expect(returnUrl({ studioEndpointUrl, unitUrl, learningContextId: courseId }))\n        .toEqual(`${studioEndpointUrl}/container/${unitUrl.data.ancestors[0].id}`);\n    });\n    it('returns empty string if no unit url', () => {\n      expect(returnUrl({ studioEndpointUrl, unitUrl: null, learningContextId: courseId }))\n        .toEqual('');\n    });\n    it('returns the library page when given the library', () => {\n      expect(libraryV1({ studioEndpointUrl, learningContextId: libraryV1Id }))\n        .toEqual(`${studioEndpointUrl}/library/${libraryV1Id}`);\n    });\n    it('returns url with studioEndpointUrl and unitUrl', () => {\n      expect(unit({ studioEndpointUrl, unitUrl }))\n        .toEqual(`${studioEndpointUrl}/container/${unitUrl.data.ancestors[0].id}`);\n    });\n  });\n  describe('block', () => {\n    it('returns url with studioEndpointUrl and blockId', () => {\n      expect(block({ studioEndpointUrl, blockId }))\n        .toEqual(`${studioEndpointUrl}/xblock/${blockId}`);\n    });\n  });\n  describe('blockAncestor', () => {\n    it('returns url with studioEndpointUrl, blockId and ancestor query', () => {\n      expect(blockAncestor({ studioEndpointUrl, blockId }))\n        .toEqual(`${block({ studioEndpointUrl, blockId })}?fields=ancestorInfo`);\n    });\n  });\n  describe('blockStudioView', () => {\n    it('returns url with studioEndpointUrl, blockId and studio_view query', () => {\n      expect(blockStudioView({ studioEndpointUrl, blockId }))\n        .toEqual(`${block({ studioEndpointUrl, blockId })}/studio_view`);\n    });\n  });\n\n  describe('courseAssets', () => {\n    it('returns url with studioEndpointUrl and learningContextId', () => {\n      expect(courseAssets({ studioEndpointUrl, learningContextId }))\n        .toEqual(`${studioEndpointUrl}/assets/${learningContextId}/?page_size=500`);\n    });\n  });\n  describe('thumbnailUpload', () => {\n    it('returns url with studioEndpointUrl, learningContextId, and videoId', () => {\n      expect(thumbnailUpload({ studioEndpointUrl, learningContextId, videoId }))\n        .toEqual(`${studioEndpointUrl}/video_images/${learningContextId}/${videoId}`);\n    });\n  });\n  describe('videoTranscripts', () => {\n    it('returns url with studioEndpointUrl and blockId', () => {\n      expect(videoTranscripts({ studioEndpointUrl, blockId }))\n        .toEqual(`${block({ studioEndpointUrl, blockId })}/handler/studio_transcript/translation`);\n    });\n  });\n  describe('downloadVideoTranscriptURL', () => {\n    it('returns url with studioEndpointUrl, blockId and language query', () => {\n      expect(downloadVideoTranscriptURL({ studioEndpointUrl, blockId, language }))\n        .toEqual(`${videoTranscripts({ studioEndpointUrl, blockId })}?language_code=${language}`);\n    });\n  });\n  describe('downloadVideoHandoutUrl', () => {\n    it('returns url with studioEndpointUrl and handout', () => {\n      expect(downloadVideoHandoutUrl({ studioEndpointUrl, handout }))\n        .toEqual(`${studioEndpointUrl}${handout}`);\n    });\n  });\n  describe('courseDetailsUrl', () => {\n    it('returns url with studioEndpointUrl and courseKey', () => {\n      expect(courseDetailsUrl({ studioEndpointUrl, learningContextId }))\n        .toEqual(`${studioEndpointUrl}/settings/details/${learningContextId}`);\n    });\n  });\n  describe('checkTranscriptsForImport', () => {\n    it('returns url with studioEndpointUrl and parameters', () => {\n      expect(checkTranscriptsForImport({ studioEndpointUrl, parameters }))\n        .toEqual(`${studioEndpointUrl}/transcripts/check?data=${parameters}`);\n    });\n  });\n  describe('replaceTranscript', () => {\n    it('returns url with studioEndpointUrl and parameters', () => {\n      expect(replaceTranscript({ studioEndpointUrl, parameters }))\n        .toEqual(`${studioEndpointUrl}/transcripts/replace?data=${parameters}`);\n    });\n  });\n  describe('videoFeatures', () => {\n    it('returns url with studioEndpointUrl and learningContextId', () => {\n      expect(videoFeatures({ studioEndpointUrl, learningContextId }))\n        .toEqual(`${studioEndpointUrl}/video_features/${learningContextId}`);\n    });\n  });\n});\n"],"mappings":"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"}