{"version":3,"file":"reducer.test.js","names":["_reducer","require","_typeof","obj","Symbol","iterator","constructor","prototype","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","toString","call","slice","name","Array","from","test","iter","isArray","len","length","i","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","testingState","initialState","arbitraryField","describe","it","expect","reducer","toEqual","testValue","data","studioEndpointUrl","lmsEndpointUrl","blockId","learningContextId","blockType","actions","initialize","other","setterTest","action","concat","map","args","blockValue","display_name","setBlockValue","blockTitle","initializeEditor","editorInitialized"],"sources":["../../../../../src/editors/data/redux/app/reducer.test.js"],"sourcesContent":["import { initialState, actions, reducer } from './reducer';\n\nconst testingState = {\n  ...initialState,\n  arbitraryField: 'arbitrary',\n};\n\ndescribe('app reducer', () => {\n  it('has initial state', () => {\n    expect(reducer(undefined, {})).toEqual(initialState);\n  });\n\n  const testValue = 'roll for initiative';\n\n  describe('handling actions', () => {\n    describe('initialize', () => {\n      it('loads initial input fields into the store', () => {\n        const data = {\n          studioEndpointUrl: 'testURL',\n          lmsEndpointUrl: 'sOmEOtherTestuRl',\n          blockId: 'anID',\n          learningContextId: 'OTHERid',\n          blockType: 'someTYPE',\n        };\n        expect(reducer(\n          testingState,\n          actions.initialize({ ...data, other: 'field' }),\n        )).toEqual({\n          ...testingState,\n          ...data,\n        });\n      });\n    });\n    const setterTest = (action, target) => {\n      describe(action, () => {\n        it(`load ${target} from payload`, () => {\n          expect(reducer(testingState, actions[action](testValue))).toEqual({\n            ...testingState,\n            [target]: testValue,\n          });\n        });\n      });\n    };\n    [\n      ['setUnitUrl', 'unitUrl'],\n      ['setStudioView', 'studioView'],\n      ['setBlockContent', 'blockContent'],\n      ['setBlockTitle', 'blockTitle'],\n      ['setSaveResponse', 'saveResponse'],\n      ['setAssets', 'assets'],\n      ['setCourseDetails', 'courseDetails'],\n    ].map(args => setterTest(...args));\n    describe('setBlockValue', () => {\n      it('sets blockValue, as well as setting the blockTitle from data.display_name', () => {\n        const blockValue = { data: { display_name: 'my test name' }, other: 'data' };\n        expect(reducer(testingState, actions.setBlockValue(blockValue))).toEqual({\n          ...testingState,\n          blockValue,\n          blockTitle: blockValue.data.display_name,\n        });\n      });\n    });\n    describe('initializeEditor', () => {\n      it('sets editorInitialized to true', () => {\n        expect(reducer(testingState, actions.initializeEditor())).toEqual({\n          ...testingState,\n          editorInitialized: true,\n        });\n      });\n    });\n  });\n});\n"],"mappings":"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"}