{"version":3,"file":"index.js","names":["_react","_interopRequireDefault","require","_reactRedux","_propTypes","_paragon","_i18n","_redux","_requests","_EditorContainer","_VideoEditorModal","_hooks","_messages","_jsxRuntime","obj","__esModule","VideoEditor","exports","_ref","onClose","intl","studioViewFinished","_errorsHook","errorsHook","error","validateEntry","jsx","ErrorContext","Provider","value","children","getContent","fetchVideoContent","className","Spinner","animation","screenreadertext","formatMessage","messages","spinnerScreenReaderText","defaultProps","propTypes","PropTypes","func","intlShape","isRequired","bool","mapStateToProps","state","selectors","requests","isFinished","requestKey","RequestKeys","fetchStudioView","mapDispatchToProps","_default","injectIntl","connect"],"sources":["../../../../src/editors/containers/VideoEditor/index.jsx"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  Spinner,\n} from '@edx/paragon';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport { selectors } from '../../data/redux';\nimport { RequestKeys } from '../../data/constants/requests';\n\nimport EditorContainer from '../EditorContainer';\nimport VideoEditorModal from './components/VideoEditorModal';\nimport { ErrorContext, errorsHook, fetchVideoContent } from './hooks';\nimport messages from './messages';\n\nexport const VideoEditor = ({\n  onClose,\n  // injected\n  intl,\n  // redux\n  studioViewFinished,\n}) => {\n  const {\n    error,\n    validateEntry,\n  } = errorsHook();\n  return (\n    <ErrorContext.Provider value={error}>\n      <EditorContainer\n        getContent={fetchVideoContent()}\n        onClose={onClose}\n        validateEntry={validateEntry}\n      >\n        {studioViewFinished ? (\n          <div className=\"video-editor\">\n            <VideoEditorModal />\n          </div>\n        ) : (\n          <Spinner\n            animation=\"border\"\n            className=\"m-3\"\n            screenreadertext={intl.formatMessage(messages.spinnerScreenReaderText)}\n          />\n        )}\n      </EditorContainer>\n    </ErrorContext.Provider>\n  );\n};\n\nVideoEditor.defaultProps = {\n  onClose: null,\n};\nVideoEditor.propTypes = {\n  onClose: PropTypes.func,\n  // injected\n  intl: intlShape.isRequired,\n  // redux\n  studioViewFinished: PropTypes.bool.isRequired,\n};\n\nexport const mapStateToProps = (state) => ({\n  studioViewFinished: selectors.requests.isFinished(state, { requestKey: RequestKeys.fetchStudioView }),\n});\n\nexport const mapDispatchToProps = {};\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(VideoEditor));\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,QAAA,GAAAH,OAAA;AAGA,IAAAI,KAAA,GAAAJ,OAAA;AAEA,IAAAK,MAAA,GAAAL,OAAA;AACA,IAAAM,SAAA,GAAAN,OAAA;AAEA,IAAAO,gBAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,iBAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,MAAA,GAAAT,OAAA;AACA,IAAAU,SAAA,GAAAX,sBAAA,CAAAC,OAAA;AAAkC,IAAAW,WAAA,GAAAX,OAAA;AAAA,SAAAD,uBAAAa,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAE3B,IAAME,WAAW,GAAAC,OAAA,CAAAD,WAAA,GAAG,SAAdA,WAAWA,CAAAE,IAAA,EAMlB;EAAA,IALJC,OAAO,GAAAD,IAAA,CAAPC,OAAO;IAEPC,IAAI,GAAAF,IAAA,CAAJE,IAAI;IAEJC,kBAAkB,GAAAH,IAAA,CAAlBG,kBAAkB;EAElB,IAAAC,WAAA,GAGI,IAAAC,iBAAU,EAAC,CAAC;IAFdC,KAAK,GAAAF,WAAA,CAALE,KAAK;IACLC,aAAa,GAAAH,WAAA,CAAbG,aAAa;EAEf,oBACE,IAAAZ,WAAA,CAAAa,GAAA,EAACf,MAAA,CAAAgB,YAAY,CAACC,QAAQ;IAACC,KAAK,EAAEL,KAAM;IAAAM,QAAA,eAClC,IAAAjB,WAAA,CAAAa,GAAA,EAACjB,gBAAA,WAAe;MACdsB,UAAU,EAAE,IAAAC,wBAAiB,EAAC,CAAE;MAChCb,OAAO,EAAEA,OAAQ;MACjBM,aAAa,EAAEA,aAAc;MAAAK,QAAA,EAE5BT,kBAAkB,gBACjB,IAAAR,WAAA,CAAAa,GAAA;QAAKO,SAAS,EAAC,cAAc;QAAAH,QAAA,eAC3B,IAAAjB,WAAA,CAAAa,GAAA,EAAChB,iBAAA,WAAgB,IAAE;MAAC,CACjB,CAAC,gBAEN,IAAAG,WAAA,CAAAa,GAAA,EAACrB,QAAA,CAAA6B,OAAO;QACNC,SAAS,EAAC,QAAQ;QAClBF,SAAS,EAAC,KAAK;QACfG,gBAAgB,EAAEhB,IAAI,CAACiB,aAAa,CAACC,oBAAQ,CAACC,uBAAuB;MAAE,CACxE;IACF,CACc;EAAC,CACG,CAAC;AAE5B,CAAC;AAEDvB,WAAW,CAACwB,YAAY,GAAG;EACzBrB,OAAO,EAAE;AACX,CAAC;AACDH,WAAW,CAACyB,SAAS,GAAG;EACtBtB,OAAO,EAAEuB,qBAAS,CAACC,IAAI;EACvB;EACAvB,IAAI,EAAEwB,eAAS,CAACC,UAAU;EAC1B;EACAxB,kBAAkB,EAAEqB,qBAAS,CAACI,IAAI,CAACD;AACrC,CAAC;AAEM,IAAME,eAAe,GAAA9B,OAAA,CAAA8B,eAAA,GAAG,SAAlBA,eAAeA,CAAIC,KAAK;EAAA,OAAM;IACzC3B,kBAAkB,EAAE4B,gBAAS,CAACC,QAAQ,CAACC,UAAU,CAACH,KAAK,EAAE;MAAEI,UAAU,EAAEC,qBAAW,CAACC;IAAgB,CAAC;EACtG,CAAC;AAAA,CAAC;AAEK,IAAMC,kBAAkB,GAAAtC,OAAA,CAAAsC,kBAAA,GAAG,CAAC,CAAC;AAAC,IAAAC,QAAA,GAAAvC,OAAA,cAEtB,IAAAwC,gBAAU,EAAC,IAAAC,mBAAO,EAACX,eAAe,EAAEQ,kBAAkB,CAAC,CAACvC,WAAW,CAAC,CAAC"}