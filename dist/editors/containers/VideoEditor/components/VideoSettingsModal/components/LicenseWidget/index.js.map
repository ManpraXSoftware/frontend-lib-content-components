{"version":3,"file":"index.js","names":["_react","_interopRequireDefault","require","_reactRedux","_propTypes","_i18n","_paragon","_icons","_redux","_hooks","_messages","_CollapsibleFormWidget","_LicenseBlurb","_LicenseSelector","_LicenseDetails","_LicenseDisplay","_jsxRuntime","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","TypeError","Number","LicenseWidget","exports","_ref","intl","isLibrary","licenseType","licenseDetails","courseLicenseType","courseLicenseDetails","updateField","_hooks$determineLicen","hooks","determineLicense","license","details","level","_hooks$determineText","determineText","licenseDescription","levelDescription","jsx","subtitle","jsxs","children","className","title","formatMessage","messages","Stack","gap","Fragment","Button","size","iconBefore","Add","variant","onClick","FormattedMessage","addLicenseButtonLabel","propTypes","intlShape","isRequired","PropTypes","bool","string","shape","func","mapStateToProps","state","selectors","app","video","mapDispatchToProps","dispatch","stateUpdate","actions","_default","injectIntl","connect"],"sources":["../../../../../../../../src/editors/containers/VideoEditor/components/VideoSettingsModal/components/LicenseWidget/index.jsx"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {\n  FormattedMessage,\n  injectIntl,\n  intlShape,\n} from '@edx/frontend-platform/i18n';\nimport {\n  Button,\n  Stack,\n} from '@edx/paragon';\nimport { Add } from '@edx/paragon/icons';\n\nimport { actions, selectors } from '../../../../../../data/redux';\nimport hooks from './hooks';\nimport messages from './messages';\nimport CollapsibleFormWidget from '../CollapsibleFormWidget';\nimport LicenseBlurb from './LicenseBlurb';\nimport LicenseSelector from './LicenseSelector';\nimport LicenseDetails from './LicenseDetails';\nimport LicenseDisplay from './LicenseDisplay';\n\n/**\n * Collapsible Form widget controlling video license type and details\n */\nexport const LicenseWidget = ({\n  // injected\n  intl,\n  // redux\n  isLibrary,\n  licenseType,\n  licenseDetails,\n  courseLicenseType,\n  courseLicenseDetails,\n  updateField,\n}) => {\n  const { license, details, level } = hooks.determineLicense({\n    isLibrary,\n    licenseType,\n    licenseDetails,\n    courseLicenseType,\n    courseLicenseDetails,\n  });\n  const { licenseDescription, levelDescription } = hooks.determineText({ level });\n  return (\n    <CollapsibleFormWidget\n      subtitle={(\n        <div>\n          <LicenseBlurb license={license} details={details} />\n          <div className=\"x-small mt-2\">{levelDescription}</div>\n        </div>\n      )}\n      title={intl.formatMessage(messages.title)}\n    >\n      <Stack gap={4}>\n        {license ? (\n          <>\n            <LicenseSelector license={license} level={level} />\n            <LicenseDetails license={license} details={details} level={level} />\n            <LicenseDisplay\n              license={license}\n              details={details}\n              licenseDescription={licenseDescription}\n            />\n          </>\n        ) : null }\n        {!licenseType ? (\n          <>\n            <div className=\"border-primary-100 border-bottom my-2\" />\n            <Button\n              className=\"text-primary-500 font-weight-bold justify-content-start pl-0\"\n              size=\"sm\"\n              iconBefore={Add}\n              variant=\"link\"\n              onClick={() => updateField({ licenseType: 'select', licenseDetails: {} })}\n            >\n              <FormattedMessage {...messages.addLicenseButtonLabel} />\n            </Button>\n          </>\n        ) : null }\n      </Stack>\n    </CollapsibleFormWidget>\n  );\n};\n\nLicenseWidget.propTypes = {\n  // injected\n  intl: intlShape.isRequired,\n  // redux\n  isLibrary: PropTypes.bool.isRequired,\n  licenseType: PropTypes.string.isRequired,\n  licenseDetails: PropTypes.shape({}).isRequired,\n  courseLicenseType: PropTypes.string.isRequired,\n  courseLicenseDetails: PropTypes.shape({}).isRequired,\n  updateField: PropTypes.func.isRequired,\n};\n\nexport const mapStateToProps = (state) => ({\n  isLibrary: selectors.app.isLibrary(state),\n  licenseType: selectors.video.licenseType(state),\n  licenseDetails: selectors.video.licenseDetails(state),\n  courseLicenseType: selectors.video.courseLicenseType(state),\n  courseLicenseDetails: selectors.video.courseLicenseDetails(state),\n});\n\nexport const mapDispatchToProps = (dispatch) => ({\n  updateField: (stateUpdate) => dispatch(actions.video.updateField(stateUpdate)),\n});\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(LicenseWidget));\n"],"mappings":"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"}