{"version":3,"file":"ScoringCard.js","names":["_react","_interopRequireDefault","require","_propTypes","_reactRedux","_i18n","_paragon","_redux","_SettingsOption","_messages","_hooks","_jsxRuntime","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","TypeError","Number","ScoringCard","exports","_ref","scoring","defaultValue","updateSettings","intl","studioEndpointUrl","learningContextId","_scoringCardHooks","scoringCardHooks","handleUnlimitedChange","handleMaxAttemptChange","handleWeightChange","handleOnChange","attemptDisplayValue","getScoringSummary","weight","attempts","unlimited","summary","formatMessage","messages","weightSummary","concat","fromCharCode","unlimitedAttemptsSummary","attemptsSummary","jsxs","title","scoringSettingsTitle","number","className","children","jsx","Form","Label","FormattedMessage","scoringSettingsLabel","Group","Control","type","onChange","floatingLabel","scoringWeightInputLabel","Feedback","weightHint","onBlur","scoringAttemptsInputLabel","disabled","attemptsHint","Checkbox","checked","unlimitedAttemptsCheckboxLabel","Hyperlink","destination","advancedSettingsLinkText","propTypes","intlShape","isRequired","PropTypes","any","func","string","mapStateToProps","state","selectors","app","mapDispatchToProps","_default","injectIntl","connect"],"sources":["../../../../../../../../src/editors/containers/ProblemEditor/components/EditProblemView/SettingsWidget/settingsComponents/ScoringCard.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { FormattedMessage, injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Form, Hyperlink } from '@edx/paragon';\nimport { selectors } from '../../../../../../data/redux';\nimport SettingsOption from '../SettingsOption';\nimport messages from '../messages';\nimport { scoringCardHooks } from '../hooks';\n\nexport const ScoringCard = ({\n  scoring,\n  defaultValue,\n  updateSettings,\n  // inject\n  intl,\n  // redux\n  studioEndpointUrl,\n  learningContextId,\n}) => {\n  const {\n    handleUnlimitedChange,\n    handleMaxAttemptChange,\n    handleWeightChange,\n    handleOnChange,\n    attemptDisplayValue,\n  } = scoringCardHooks(scoring, updateSettings, defaultValue);\n\n  const getScoringSummary = (weight, attempts, unlimited) => {\n    let summary = intl.formatMessage(messages.weightSummary, { weight });\n    summary += ` ${String.fromCharCode(183)} `;\n    summary += unlimited\n      ? intl.formatMessage(messages.unlimitedAttemptsSummary)\n      : intl.formatMessage(messages.attemptsSummary, { attempts });\n    return summary;\n  };\n\n  return (\n    <SettingsOption\n      title={intl.formatMessage(messages.scoringSettingsTitle)}\n      summary={getScoringSummary(scoring.weight, scoring.attempts.number, scoring.attempts.unlimited)}\n      className=\"scoringCard\"\n    >\n      <Form.Label className=\"mb-4\">\n        <FormattedMessage {...messages.scoringSettingsLabel} />\n      </Form.Label>\n      <Form.Group>\n        <Form.Control\n          type=\"number\"\n          value={scoring.weight}\n          onChange={handleWeightChange}\n          floatingLabel={intl.formatMessage(messages.scoringWeightInputLabel)}\n        />\n        <Form.Control.Feedback>\n          <FormattedMessage {...messages.weightHint} />\n        </Form.Control.Feedback>\n      </Form.Group>\n      <Form.Group>\n        <Form.Control\n          value={attemptDisplayValue}\n          onChange={handleOnChange}\n          onBlur={handleMaxAttemptChange}\n          floatingLabel={intl.formatMessage(messages.scoringAttemptsInputLabel)}\n          disabled={scoring.attempts.unlimited}\n        />\n        <Form.Control.Feedback>\n          <FormattedMessage {...messages.attemptsHint} />\n        </Form.Control.Feedback>\n        <Form.Checkbox\n          className=\"mt-3 decoration-control-label\"\n          checked={scoring.attempts.unlimited}\n          onChange={handleUnlimitedChange}\n        >\n          <div className=\"small\">\n            <FormattedMessage {...messages.unlimitedAttemptsCheckboxLabel} />\n          </div>\n        </Form.Checkbox>\n      </Form.Group>\n      <Hyperlink destination={`${studioEndpointUrl}/settings/advanced/${learningContextId}#max_attempts`} target=\"_blank\">\n        <FormattedMessage {...messages.advancedSettingsLinkText} />\n      </Hyperlink>\n    </SettingsOption>\n  );\n};\n\nScoringCard.propTypes = {\n  intl: intlShape.isRequired,\n  // eslint-disable-next-line\n  scoring: PropTypes.any.isRequired,\n  updateSettings: PropTypes.func.isRequired,\n  defaultValue: PropTypes.number.isRequired,\n  // redux\n  studioEndpointUrl: PropTypes.string.isRequired,\n  learningContextId: PropTypes.string.isRequired,\n};\n\nexport const mapStateToProps = (state) => ({\n  studioEndpointUrl: selectors.app.studioEndpointUrl(state),\n  learningContextId: selectors.app.learningContextId(state),\n});\n\nexport const mapDispatchToProps = {};\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(ScoringCard));\n"],"mappings":"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"}