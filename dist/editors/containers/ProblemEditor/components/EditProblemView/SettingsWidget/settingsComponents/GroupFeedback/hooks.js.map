{"version":3,"file":"hooks.js","names":["_react","require","_lodashEs","_interopRequireDefault","_messages","_module","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","iter","iterator","Array","from","isArray","_arrayLikeToArray","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","toString","slice","constructor","name","test","len","arr2","_i","_s","_e","_x","_r","_arr","_n","_d","next","done","err","state","exports","summary","val","useState","groupFeedbackCardHooks","groupFeedbacks","updateSettings","answerslist","_module$state$summary","module","message","messages","noGroupFeedbackSummary","values","_module$state$summary2","setSummary","useEffect","feedbacksInList","map","_ref","answers","feedback","answerIDs","a","id","answersString","includes","concat","groupFeedbackSummary","groupFeedback","handleAdd","newId","_","isEmpty","Math","max","modifiedGroupFeedbacks","groupFeedbackList","groupFeedbackRowHooks","_ref2","addSelectedAnswer","_ref3","oldGroupFeedback","find","x","newAnswers","newFeedback","remainingFeedbacks","item","updatedFeedbackList","sort","b","removedSelectedAnswer","_ref4","handleAnswersSelectedChange","event","_event$target","checked","handleDelete","handleFeedbackChange","modifiedGroupFeedback"],"sources":["../../../../../../../../../src/editors/containers/ProblemEditor/components/EditProblemView/SettingsWidget/settingsComponents/GroupFeedback/hooks.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport _ from 'lodash-es';\nimport messages from './messages';\nimport * as module from './hooks';\n\nexport const state = {\n  summary: (val) => useState(val),\n};\n\nexport const groupFeedbackCardHooks = (groupFeedbacks, updateSettings, answerslist) => {\n  const [summary, setSummary] = module.state.summary({ message: messages.noGroupFeedbackSummary, values: {} });\n\n  useEffect(() => {\n    if (groupFeedbacks.length === 0) {\n      setSummary({ message: messages.noGroupFeedbackSummary, values: {} });\n    } else {\n      const feedbacksInList = groupFeedbacks.map(({ answers, feedback }) => {\n        const answerIDs = answerslist.map((a) => a.id);\n        const answersString = answers.filter((value) => answerIDs.includes(value));\n        return `${answersString} ${feedback}\\n`;\n      });\n      setSummary({\n        message: messages.groupFeedbackSummary,\n        values: { groupFeedback: feedbacksInList },\n      });\n    }\n  }, [groupFeedbacks, answerslist]);\n\n  const handleAdd = () => {\n    let newId = 0;\n    if (!_.isEmpty(groupFeedbacks)) {\n      newId = Math.max(...groupFeedbacks.map(feedback => feedback.id)) + 1;\n    }\n    const groupFeedback = { id: newId, answers: [], feedback: '' };\n    const modifiedGroupFeedbacks = [...groupFeedbacks, groupFeedback];\n    updateSettings({ groupFeedbackList: modifiedGroupFeedbacks });\n  };\n\n  return {\n    summary,\n    handleAdd,\n  };\n};\n\nexport const groupFeedbackRowHooks = ({ id, groupFeedbacks, updateSettings }) => {\n  // Hooks for the answers associated with a groupfeedback\n  const addSelectedAnswer = ({ value }) => {\n    const oldGroupFeedback = groupFeedbacks.find(x => x.id === id);\n    const newAnswers = [...oldGroupFeedback.answers, value];\n    const newFeedback = { ...oldGroupFeedback, answers: newAnswers };\n    const remainingFeedbacks = groupFeedbacks.filter((item) => (item.id !== id));\n    const updatedFeedbackList = [newFeedback, ...remainingFeedbacks].sort((a, b) => a.id - b.id);\n\n    updateSettings({ groupFeedbackList: updatedFeedbackList });\n  };\n  const removedSelectedAnswer = ({ value }) => {\n    const oldGroupFeedback = groupFeedbacks.find(x => x.id === id);\n    const newAnswers = oldGroupFeedback.answers.filter(item => item !== value);\n    const newFeedback = { ...oldGroupFeedback, answers: newAnswers };\n    const remainingFeedbacks = groupFeedbacks.filter((item) => (item.id !== id));\n    const updatedFeedbackList = [newFeedback, ...remainingFeedbacks].sort((a, b) => a.id - b.id);\n\n    updateSettings({ groupFeedbackList: updatedFeedbackList });\n  };\n  const handleAnswersSelectedChange = (event) => {\n    const { checked, value } = event.target;\n    if (checked) {\n      addSelectedAnswer({ value });\n    } else {\n      removedSelectedAnswer({ value });\n    }\n  };\n\n  // Delete Button\n  const handleDelete = () => {\n    const modifiedGroupFeedbacks = groupFeedbacks.filter((item) => (item.id !== id));\n    updateSettings({ groupFeedbackList: modifiedGroupFeedbacks });\n  };\n\n  // Hooks for the feedback associated with a groupfeedback\n  const handleFeedbackChange = (event) => {\n    const { value } = event.target;\n    const modifiedGroupFeedback = groupFeedbacks.map(groupFeedback => {\n      if (groupFeedback.id === id) {\n        return { ...groupFeedback, feedback: value };\n      }\n      return groupFeedback;\n    });\n    updateSettings({ groupFeedbackList: modifiedGroupFeedback });\n  };\n\n  return {\n    handleAnswersSelectedChange, handleFeedbackChange, handleDelete,\n  };\n};\n"],"mappings":"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"}