{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_reactRedux","_paragon","_AnswerWidget","_SettingsWidget","_QuestionWidget","_EditorContainer","_redux","_RawEditor","_problem","_hooks","_ExplanationWidget","_jsxRuntime","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","EditProblemView","exports","_ref","problemType","problemState","assets","lmsEndpointUrl","editorRef","useRef","isAdvancedProblemType","ProblemTypeKeys","ADVANCED","getContent","parseState","problem","isAdvanced","ref","jsx","children","jsxs","className","Container","fluid","lang","content","rawOLX","defaultProps","propTypes","PropTypes","string","isRequired","any","shape","mapStateToProps","state","selectors","app","completeState","_default","connect"],"sources":["../../../../../../src/editors/containers/ProblemEditor/components/EditProblemView/index.jsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Container } from '@edx/paragon';\nimport AnswerWidget from './AnswerWidget';\nimport SettingsWidget from './SettingsWidget';\nimport QuestionWidget from './QuestionWidget';\nimport EditorContainer from '../../../EditorContainer';\nimport { selectors } from '../../../../data/redux';\nimport RawEditor from '../../../../sharedComponents/RawEditor';\nimport { ProblemTypeKeys } from '../../../../data/constants/problem';\n\nimport { parseState } from './hooks';\nimport './index.scss';\nimport ExplanationWidget from './ExplanationWidget';\n\nexport const EditProblemView = ({\n  // redux\n  problemType,\n  problemState,\n  assets,\n  lmsEndpointUrl,\n}) => {\n  const editorRef = useRef(null);\n  const isAdvancedProblemType = problemType === ProblemTypeKeys.ADVANCED;\n\n  const getContent = parseState({\n    problem: problemState,\n    isAdvanced: isAdvancedProblemType,\n    ref: editorRef,\n    assets,\n    lmsEndpointUrl,\n  });\n\n  return (\n    <EditorContainer getContent={getContent}>\n      <div className=\"editProblemView d-flex flex-row flex-nowrap justify-content-end\">\n        {isAdvancedProblemType ? (\n          <Container fluid className=\"advancedEditorTopMargin p-0\">\n            <RawEditor editorRef={editorRef} lang=\"xml\" content={problemState.rawOLX} />\n          </Container>\n        ) : (\n          <span className=\"flex-grow-1 mb-5\">\n            <QuestionWidget />\n            <ExplanationWidget />\n            <AnswerWidget problemType={problemType} />\n          </span>\n        )}\n        <span className=\"editProblemView-settingsColumn\">\n          <SettingsWidget problemType={problemType} />\n        </span>\n      </div>\n    </EditorContainer>\n  );\n};\n\nEditProblemView.defaultProps = {\n  assets: null,\n  lmsEndpointUrl: null,\n};\n\nEditProblemView.propTypes = {\n  problemType: PropTypes.string.isRequired,\n  // eslint-disable-next-line\n  problemState: PropTypes.any.isRequired,\n  assets: PropTypes.shape({}),\n  lmsEndpointUrl: PropTypes.string,\n};\n\nexport const mapStateToProps = (state) => ({\n  assets: selectors.app.assets(state),\n  lmsEndpointUrl: selectors.app.lmsEndpointUrl(state),\n  problemType: selectors.problem.problemType(state),\n  problemState: selectors.problem.completeState(state),\n});\n\nexport default connect(mapStateToProps)(EditProblemView);\n"],"mappings":"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"}