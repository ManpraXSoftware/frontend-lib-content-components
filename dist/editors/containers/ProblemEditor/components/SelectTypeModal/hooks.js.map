{"version":3,"file":"hooks.js","names":["_react","require","_problem","_utils","_module","_interopRequireWildcard","_problem2","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","arr2","_i","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","err","isArray","state","exports","StrictDict","selected","val","useState","selectHooks","_module$state$selecte","module","ProblemTypeKeys","SINGLESELECT","_module$state$selecte2","setSelected","onSelect","_ref","updateField","setBlockTitle","values","AdvanceProblemKeys","includes","problemType","ADVANCED","rawOLX","AdvanceProblems","template","title","newOLX","ProblemTypes","_getDataFromOlx","getDataFromOlx","rawSettings","settings","newState","useArrowNav","detectKeyDown","e","problemTypeValues","prev","document","getElementById","focus","useEffect","addEventListener","removeEventListener","_default"],"sources":["../../../../../../src/editors/containers/ProblemEditor/components/SelectTypeModal/hooks.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport {\n  AdvanceProblemKeys, AdvanceProblems, ProblemTypeKeys, ProblemTypes,\n} from '../../../../data/constants/problem';\nimport { StrictDict } from '../../../../utils';\nimport * as module from './hooks';\nimport { getDataFromOlx } from '../../../../data/redux/thunkActions/problem';\n\nexport const state = StrictDict({\n  selected: (val) => useState(val),\n});\n\nexport const selectHooks = () => {\n  const [selected, setSelected] = module.state.selected(ProblemTypeKeys.SINGLESELECT);\n  return {\n    selected,\n    setSelected,\n  };\n};\n\nexport const onSelect = ({ selected, updateField, setBlockTitle }) => () => {\n  if (Object.values(AdvanceProblemKeys).includes(selected)) {\n    updateField({ problemType: ProblemTypeKeys.ADVANCED, rawOLX: AdvanceProblems[selected].template });\n    setBlockTitle(AdvanceProblems[selected].title);\n  } else {\n    const newOLX = ProblemTypes[selected].template;\n    const { settings, ...newState } = getDataFromOlx({ rawOLX: newOLX, rawSettings: {} });\n    updateField({ ...newState });\n    setBlockTitle(ProblemTypes[selected].title);\n  }\n};\n\nexport const useArrowNav = (selected, setSelected) => {\n  const detectKeyDown = (e) => {\n    const problemTypeValues = Object.values(ProblemTypeKeys);\n    switch (e.key) {\n      case 'ArrowUp':\n        if (problemTypeValues.includes(selected) && ProblemTypes[selected].prev) {\n          setSelected(ProblemTypes[selected].prev);\n          document.getElementById(ProblemTypes[selected].prev).focus();\n        }\n        break;\n      case 'ArrowDown':\n        if (problemTypeValues.includes(selected) && ProblemTypes[selected].next) {\n          setSelected(ProblemTypes[selected].next);\n          document.getElementById(ProblemTypes[selected].next).focus();\n        }\n        break;\n      default:\n    }\n  };\n  useEffect(() => {\n    document.addEventListener('keydown', detectKeyDown, true);\n    return () => {\n      document.removeEventListener('keydown', detectKeyDown, true);\n    };\n  }, [selected, setSelected]);\n};\n\nexport default {\n  state,\n  selectHooks,\n  onSelect,\n  useArrowNav,\n};\n"],"mappings":"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"}