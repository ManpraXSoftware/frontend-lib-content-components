{"version":3,"file":"ErrorAlert.js","names":["_react","_interopRequireDefault","require","_propTypes","_paragon","_icons","_i18n","_messages","_jsxRuntime","obj","__esModule","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","prototype","toString","slice","constructor","name","Array","from","test","len","arr2","_i","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","err","isArray","hooks","exports","state","isDismissed","val","React","useState","dismissalHooks","_ref","dismissError","isError","_hooks$state$isDismis","_hooks$state$isDismis2","setIsDismissed","useEffect","dismissAlert","ErrorAlert","_ref2","hideHeading","children","_hooks$dismissalHooks","jsxs","Alert","variant","icon","Outline","dismissible","onClose","jsx","Heading","FormattedMessage","messages","errorTitle","defaultProps","propTypes","PropTypes","func","bool","isRequired","oneOfType","arrayOf","node","_default"],"sources":["../../../../src/editors/sharedComponents/ErrorAlerts/ErrorAlert.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Alert } from '@edx/paragon';\nimport { Outline } from '@edx/paragon/icons';\n\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport messages from './messages';\n\nexport const hooks = {\n  state: {\n    isDismissed: (val) => React.useState(val),\n  },\n  dismissalHooks: ({ dismissError, isError }) => {\n    const [isDismissed, setIsDismissed] = hooks.state.isDismissed(false);\n    React.useEffect(() => {\n      setIsDismissed(isDismissed && !isError);\n    },\n    [isError]);\n    return {\n      isDismissed,\n      dismissAlert: () => {\n        setIsDismissed(true);\n        if (dismissError) {\n          dismissError();\n        }\n      },\n    };\n  },\n};\n\nexport const ErrorAlert = ({\n  dismissError,\n  hideHeading,\n  isError,\n  children,\n}) => {\n  const { isDismissed, dismissAlert } = hooks.dismissalHooks({ dismissError, isError });\n  if (!isError || isDismissed) {\n    return null;\n  }\n  return (\n    <Alert\n      variant=\"danger\"\n      icon={Outline}\n      dismissible\n      onClose={dismissAlert}\n    >\n      {!hideHeading\n        && (\n          <Alert.Heading>\n            <FormattedMessage {...messages.errorTitle} />\n          </Alert.Heading>\n        )}\n      {children}\n    </Alert>\n  );\n};\n\nErrorAlert.defaultProps = {\n  dismissError: null,\n  hideHeading: false,\n};\n\nErrorAlert.propTypes = {\n  dismissError: PropTypes.func,\n  hideHeading: PropTypes.bool,\n  isError: PropTypes.bool.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n};\n\nexport default ErrorAlert;\n"],"mappings":"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"}