{"version":3,"file":"hooks.js","names":["_react","_interopRequireDefault","require","_reactRedux","_redux","_module","_interopRequireWildcard","_utils","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","arr2","_i","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","err","isArray","state","exports","highlighted","val","React","useState","showSelectImageError","searchString","sortBy","showSizeError","searchAndSortHooks","_module$state$searchS","module","_module$state$searchS2","setSearchString","_module$state$sortBy","sortKeys","dateNewest","_module$state$sortBy2","setSortBy","onSearchChange","e","clearSearchString","onSortClick","filteredList","_ref","imageList","_ref2","displayName","toLowerCase","includes","displayList","_ref3","images","sort","sortFunctions","imgListHooks","_ref4","searchSortProps","setSelection","_module$state$highlig","_module$state$highlig2","setHighlighted","_module$state$showSel","_module$state$showSel2","setShowSelectImageError","_module$state$showSiz","_module$state$showSiz2","setShowSizeError","list","galleryError","show","dismiss","inputError","galleryProps","galleryIsEmpty","searchIsEmpty","onHighlightChange","selectBtnProps","onClick","highlightedImage","find","image","id","checkValidFileSize","_ref5","selectedFile","clearSelection","onSizeFail","size","fileInputHooks","_ref6","imgList","dispatch","useDispatch","ref","useRef","click","current","addFile","files","thunkActions","app","uploadImage","file","imgHooks","_ref7","fileInput","_default"],"sources":["../../../../../src/editors/sharedComponents/ImageUploadModal/SelectImageModal/hooks.js"],"sourcesContent":["import React from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { thunkActions } from '../../../data/redux';\nimport * as module from './hooks';\nimport { sortFunctions, sortKeys } from './utils';\n\nexport const state = {\n  highlighted: (val) => React.useState(val),\n  showSelectImageError: (val) => React.useState(val),\n  searchString: (val) => React.useState(val),\n  sortBy: (val) => React.useState(val),\n  showSizeError: (val) => React.useState(val),\n};\n\nexport const searchAndSortHooks = () => {\n  const [searchString, setSearchString] = module.state.searchString('');\n  const [sortBy, setSortBy] = module.state.sortBy(sortKeys.dateNewest);\n  return {\n    searchString,\n    onSearchChange: (e) => setSearchString(e.target.value),\n    clearSearchString: () => setSearchString(''),\n    sortBy,\n    onSortClick: (key) => () => setSortBy(key),\n  };\n};\n\nexport const filteredList = ({ searchString, imageList }) => (\n  imageList.filter(({ displayName }) => displayName.toLowerCase().includes(searchString.toLowerCase()))\n);\n\nexport const displayList = ({ sortBy, searchString, images }) => (\n  module.filteredList({\n    searchString,\n    imageList: images,\n  }).sort(sortFunctions[sortBy in sortKeys ? sortKeys[sortBy] : sortKeys.dateNewest]));\n\nexport const imgListHooks = ({ searchSortProps, setSelection, images }) => {\n  const [highlighted, setHighlighted] = module.state.highlighted(null);\n  const [\n    showSelectImageError,\n    setShowSelectImageError,\n  ] = module.state.showSelectImageError(false);\n  const [showSizeError, setShowSizeError] = module.state.showSizeError(false);\n  const list = module.displayList({ ...searchSortProps, images });\n\n  return {\n    galleryError: {\n      show: showSelectImageError,\n      set: () => setShowSelectImageError(true),\n      dismiss: () => setShowSelectImageError(false),\n    },\n    inputError: {\n      show: showSizeError,\n      set: () => setShowSizeError(true),\n      dismiss: () => setShowSizeError(false),\n    },\n    images,\n    galleryProps: {\n      galleryIsEmpty: Object.keys(images).length === 0,\n      searchIsEmpty: list.length === 0,\n      displayList: list,\n      highlighted,\n      onHighlightChange: (e) => setHighlighted(e.target.value),\n    },\n    // highlight by id\n    selectBtnProps: {\n      onClick: () => {\n        if (highlighted) {\n          const highlightedImage = images.find(image => image.id === highlighted);\n          setSelection(highlightedImage);\n        } else {\n          setShowSelectImageError(true);\n        }\n      },\n    },\n  };\n};\n\nexport const checkValidFileSize = ({\n  selectedFile,\n  clearSelection,\n  onSizeFail,\n}) => {\n  // Check if the file size is greater than 10 MB, upload size limit\n  if (selectedFile.size > 10000000) {\n    clearSelection();\n    onSizeFail();\n    return false;\n  }\n  return true;\n};\n\nexport const fileInputHooks = ({ setSelection, clearSelection, imgList }) => {\n  const dispatch = useDispatch();\n  const ref = React.useRef();\n  const click = () => ref.current.click();\n  const addFile = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile && module.checkValidFileSize({\n      selectedFile,\n      clearSelection,\n      onSizeFail: () => {\n        imgList.inputError.set();\n      },\n    })) {\n      dispatch(\n        thunkActions.app.uploadImage({\n          file: selectedFile,\n          setSelection,\n        }),\n      );\n    }\n  };\n\n  return {\n    click,\n    addFile,\n    ref,\n  };\n};\n\nexport const imgHooks = ({ setSelection, clearSelection, images }) => {\n  const searchSortProps = module.searchAndSortHooks();\n  const imgList = module.imgListHooks({ setSelection, searchSortProps, images });\n  const fileInput = module.fileInputHooks({\n    setSelection,\n    clearSelection,\n    imgList,\n  });\n  const {\n    galleryError,\n    galleryProps,\n    inputError,\n    selectBtnProps,\n  } = imgList;\n\n  return {\n    galleryError,\n    inputError,\n    fileInput,\n    galleryProps,\n    searchSortProps,\n    selectBtnProps,\n  };\n};\n\nexport default {\n  imgHooks,\n};\n"],"mappings":"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"}